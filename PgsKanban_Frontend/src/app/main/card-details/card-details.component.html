<div id="cardDetails__wrapper-y" xmlns="http://www.w3.org/1999/html">
    <div class="row cardDetails__nameSection">
        <div class="col-xs-11">
            <span class="tooltip" matTooltipClass="tooltipStyle" matTooltip="{{cardDetail?.name}}"
                matTooltipShowDelay="{{tooltipDelay}}" matTooltipPosition="right" matTooltipDisabled="{{showCardNameTooltip}}">
                <div class="opensans-bold__14 text__overflow"> {{ cardDetail?.name }} </div>
            </span>
            <span class="tooltip" matTooltipClass="tooltipStyle" matTooltip="{{cardDetail?.listName}}"
                matTooltipShowDelay="{{tooltipDelay}}" matTooltipPosition="right" matTooltipDisabled="{{showListNameTooltip}}">
                <div class="opensans-light__12 text__overflow"> In list: <span class="cardDetails__listName"> {{ cardDetail?.listName }} </span> </div>
            </span>
        </div>
        <div class="col-xs-1" fxLayout="row" fxLayoutAlign="end center">
            <div class="icon icon-close" (click)="close()"></div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <div class="row" *ngIf="!isEditing">
                <div class="col-xs-12" layout="column">
                    <div class="opensans-semibold__14">Description</div>
                    <div Markdown [data]="cardDetail.description"  class="cardDetails__cardDescription"></div>
                    <div>
                        <div class="cardDetails__edit" (click)="startEditing()">edit</div>
                    </div>
                </div>
            </div>
            <div class="row" *ngIf="isEditing">
                <div class="col-xs-12" fxLayout="column">
                    <div class="opensans-light__12">Detailed description</div>
                    <textarea class="cardDetails__textarea--description" autofocus
                              autocomplete="off"
                              spellcheck="false"
                              [(ngModel)]="editingCardDescription"></textarea>
                    <div fxLayout="row" fxLayoutAlign="space-between center">
                        <div (click)="toggleInfo()" class="cardDetails__formating">formating</div>
                        <div fxLayout="row" fxLayoutAlign="space-between center">
                            <button class="cardDetails__submit" (click)="submitEditing()">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row cardDetails__addCommentSection">
                <div class="col-xs-12" fxLayout="column">
                    <div class="opensans-semibold__14">Comment</div>
                    <div class="opensans-light__12">Add comment</div>
                    <textarea class="cardDetails__textarea--comment" spellcheck="false"
                              autocomplete="off"
                              [(ngModel)]="comment"></textarea>
                    <div fxLayout="row" fxLayoutAlign="space-between center">
                        <div (click)="toggleInfo()" class="cardDetails__formating notImplemented">formating</div>
                        <div fxLayout="row" fxLayoutAlign="space-between center">
                            <button class="cardDetails__submit" (click)="submitCommenting()">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="start center">
        <div class="cardDetails__comment-icon icon-bubbles"></div>
        <div class="cardDetails__comment-description">{{comments?.length}} comment<span
            *ngIf="comments?.length != 1">s</span></div>
    </div>
    <div class="cardDetails__comment-underlined"></div>
    <div class="cardDetails__comments-wrapper-y">
        <div class="comments-container">
            <div *ngFor="let comment of comments">
                <app-comment [comment]="comment" [ngClass]="{'comment-last' : $last}"></app-comment>
            </div>
        </div>
    </div>
    <div (clickOutside)="closeInfo()" class="markdown-info">
        <app-markdown-info [isDisplayed]="isInfoDisplayed"></app-markdown-info>
    </div>
</div>
